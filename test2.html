<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Display JSON in Table</title>

  <!-- ✅ Generate Secure Nonce for CSP -->
  <?php
    $nonce = base64_encode(random_bytes(16)); // Generate a secure nonce for CSP
    header("Content-Security-Policy: 
      default-src 'self'; 
      script-src 'self' https://js.cexplorer.io 'nonce-$nonce'; 
      connect-src 'self' https://js.cexplorer.io; 
      img-src 'self' data: https://cexplorer.io https://js.cexplorer.io; 
      style-src 'self' 'nonce-$nonce' https://js.cexplorer.io;
      frame-src 'self'
    ");
  ?>

  <link rel="stylesheet" href="table.css">
  <link rel="icon" type="image/webp" sizes="192x192" href="tdsp_logo_ico.webp">
</head>
<body>
  <h2>JSON Data in Table</h2>
  <table id="data-table">
    <thead>
      <tr>
        <th>Key</th>
        <th>Value</th>
      </tr>
    </thead>
    <tbody>
      <!-- Table rows will be inserted here -->
    </tbody>
  </table>

  <!-- Attribution -->
  <p class="attribution">
    Source: <a href="https://cexplorer.io" target="_blank">Cexplorer.io</a><br>
    Disclaimer: <a href="https://cexplorer.io/disclaimer" target="_blank">Cexplorer.io Disclaimer</a>
  </p>

  <!-- ✅ External JavaScript with Matching Nonce -->
  <script src="script.js" nonce="<?php echo $nonce; ?>"></script>
</body>
</html>